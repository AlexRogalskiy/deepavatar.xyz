{"version":3,"file":"static/webpack/static/development/pages/create.js.8251c198ee60bef5f1a8.hot-update.js","sources":["webpack:///./pages/create.js"],"sourcesContent":["import React from 'react';\nimport Header from '../components/header';\nimport Divider from '../components/divider';\nimport Footer from '../components/footer';\n\nimport UploadImage from '../components/create/upload-image';\nimport SelectTransformation from '../components/create/select-transformation';\nimport EmailAddress from '../components/create/email-address';\n\nexport default class extends React.Component {\n  state = {\n    file: null,\n    transformation: null,\n    email: '',\n  };\n\n  handleChange = (email) =>\n    this.setState({ email });\n\n  handleDrop = (file) =>\n    this.setState({ file });\n\n  handleSelect = (transformation) =>\n    this.setState({\n      transformation: transformation.key,\n    });\n\n  handleSuccess = () => {\n\n  };\n\n  handleError = () => {\n    alert('An error append...');\n  };\n\n  handleSubmit = () => {\n    const formData = new FormData();\n    formData.append('picture', this.state.file);\n    formData.append('model', this.state.transformation);\n    formData.append('email', this.state.email);\n    window\n      .fetch(`${process.env.BACKEND_URL}/api/pictures`, {\n        method: 'POST',\n        body: formData,\n      })\n      .then(this.handleSuccess)\n      .catch(this.handleError);\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <Header />\n        <UploadImage\n          file={this.state.file}\n          onDrop={this.handleDrop}\n        />\n        <Divider />\n        <SelectTransformation\n          selected={this.state.transformation}\n          onClick={this.handleSelect}\n        />\n        <EmailAddress\n          onChange={this.handleChange}\n          onSubmit={this.handleSubmit}\n          value={this.state.email}\n        />\n        <Footer />\n      </React.Fragment>\n    );\n  }\n}\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AAHA;AACA;AAKA;AAAA;AACA;AAAA;AADA;AACA;AAEA;AAAA;AACA;AAAA;AADA;AACA;AAEA;AAAA;AAEA;AADA;AADA;AACA;AAIA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAFA;AAMA;AACA;;;;;;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AA7DA;AACA;;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}